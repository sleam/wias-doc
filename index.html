
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>WIAS API Reference</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .cd {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .nl {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="index" data-languages="[&quot;shell&quot;,&quot;javascript&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="images/logo.png" class="logo" alt="Logo" />
        <div class="lang-selector">
              <a href="#" data-language-name="shell">shell</a>
              <a href="#" data-language-name="javascript">javascript</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc" class="toc-list-h1">
          <li>
            <a href="#introduction" class="toc-h1 toc-link" data-title="introduction">Introduction</a>
          </li>
          <li>
            <a href="#authentication" class="toc-h1 toc-link" data-title="authentication">Authentication</a>
          </li>
          <li>
            <a href="#interactions" class="toc-h1 toc-link" data-title="interactions">Interactions</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#create-a-new-interaction" class="toc-h2 toc-link" data-title="create-a-new-interaction">Create a New Interaction</a>
                  </li>
                  <li>
                    <a href="#get-all-interactions" class="toc-h2 toc-link" data-title="get-all-interactions">Get All Interactions</a>
                  </li>
                  <li>
                    <a href="#get-a-specific-interaction" class="toc-h2 toc-link" data-title="get-a-specific-interaction">Get a Specific Interaction</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#common-query-params" class="toc-h1 toc-link" data-title="common-query-params">Common Query Params</a>
          </li>
          <li>
            <a href="#errors" class="toc-h1 toc-link" data-title="errors">Errors</a>
          </li>
      </div>
        <ul class="toc-footer">
            <li><a href='https://github.com/Kopjra/wias-doc/wiki'>Developers Wiki</a></li>
            <li><a href='https://github.com/lord/slate'>Powered by Slate</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='introduction'>Introduction</h1>
<p>Welcome to Web Interaction Acquisition Service API! You can use our API to access Web Interaction Acquisition Service
API endpoints, which is everything you need to do to forensically acquire an interaction happening between your customer
and your services.</p>

<p>If you are still unfamiliar with the process used by WIAS, it&#39;d be better if you read our <a href="https://github.com/Kopjra/wias-apidoc/wiki">developers wiki</a>.</p>

<p>We have language bindings in Shell and Javascript (Node.js)! You can view code examples in the dark area to the right, and you can
switch the programming language of the examples with the tabs in the top right.</p>
<h1 id='authentication'>Authentication</h1>
<blockquote>
<p>To authorize, use this code:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code><span class="c"># With shell, you can just pass the correct header with each request</span>
curl <span class="s2">"https://gateway.wias.kopjra.com/api"</span>
  -H <span class="s2">"Accept: application/json"</span>
  -H <span class="s2">"Authorization: apikey"</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">wias</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'@kopjra/wias'</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">api</span> <span class="o">=</span> <span class="nx">wias</span><span class="p">.</span><span class="nx">authorize</span><span class="p">(</span><span class="s1">'apikey'</span><span class="p">);</span>
</code></pre>
<blockquote>
<p>Make sure to replace <code>apikey</code> with your API key.</p>
</blockquote>

<p>WIAS uses API keys to allow access to the API. You can register a new WIAS API key at our <a href="https://devs.wias.kopjra.com/">developer portal</a>.</p>

<p>WIAS expects for the API key to be included in all API requests to the server in a header that looks like the following:</p>

<p><code>Authorization: apikey</code></p>

<aside class="notice">
You must replace <code>apikey</code> with your personal API key.
</aside>
<h1 id='interactions'>Interactions</h1>
<p>The Interaction represents the minimum entity that can be forensically acquired, stored and retrieved. It represents a
specific action done by one of your users, plus the context (ie: the web page that he/she sees when he/she does that
action).</p>
<h2 id='create-a-new-interaction'>Create a New Interaction</h2>
<p>Before you can acquire an action done by one of your users (and its context), you need to create a new Interaction, and
redirect your user to the forward URL specifically provided by WIAS: you will find this URL (<code>fURL</code>) inside
the body of the response of this call.</p>

<aside class="notice">
At the end of this call, remember to redirect your user to <code>fURL</code>!
</aside>

<p>Since we implement none of your backend business logic, the user&#39;s request will eventually be re-submitted directly by
the user to your web server, so you must provide us with the <code>oURL</code> locating the endpoint where the user would
re-submit his request.</p>

<p>In addition, you need to provide us with some HTML that will be the context on which the user is going to do his action.
The user&#39;s action could be for instance a form submission (a <code>POST</code> or a <code>GET</code>) or the click on a
link (only a <code>GET</code>). In both cases, you have to pre-render the HTML on your server and give it to us, as well
as the indication about the HTTP Method of your user&#39;s action.</p>

<aside class="notice">
Within your pre-rendered HTML, remember to replace the URL where you originally intended to handle the user action with
 the <code><%= e_url %></code> placeholder. You'd put that URL in the field <code>oURL</code> of the Create Interaction
 request.
</aside>

<p>Finally, you can also decide to put any tag on your interaction.</p>

<aside class="warning">
Future retrievals requests can only done by matching Interaction ID or custom tags! We won't be able to fetch the data
contained in your pre-rendered HTML or in the content submitted by your user's action.
</aside>
<pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://gateway.wias.kopjra.com/api/interactions"</span>
  -X DELETE
  -d <span class="s1">'{"oURL": "http://someurl.com", "oMethod": "POST", "prerenderedHtml": "&lt;!doctype html&gt;&lt;html&gt;&lt;head&gt;&lt;title&gt;Title&lt;/title&gt;&lt;/head&gt;&lt;body&gt;&lt;p&gt;&lt;strong&gt;E_URL: &lt;/strong&gt;&lt;%= e_url %&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;F_URL: &lt;/strong&gt;&lt;%= f_url %&gt;&lt;/p&gt;&lt;p&gt;Sample text.&lt;/p&gt;&lt;form action="&lt;%= e_url %&gt;" method="post"&gt;&lt;fieldset&gt;&lt;legend&gt;Stuffity stuff:&lt;/legend&gt;&lt;input type="radio" name="st1" value="true"&gt;Yep&lt;/input&gt;&lt;input type="radio" name="st1" value="false"&gt;Nay&lt;/input&gt;&lt;/fieldset&gt;&lt;fieldset&gt;&lt;legend&gt;Lalaland:&lt;/legend&gt;&lt;input type="radio" name="st2" value="true"&gt;Great movie&lt;/input&gt;&lt;input type="radio" name="st2" value="false"&gt;Bad movie&lt;/input&gt;&lt;/fieldset&gt;&lt;input type="submit" value="Invia" /&gt;&lt;/form&gt;&lt;/body&gt;&lt;/html&gt;", "tags": {"foo": "bar", "baz": "woo"}}'</span>
  -H <span class="s2">"Accept: application/json"</span>
  -H <span class="s2">"Content-Type: application/json"</span>
  -H <span class="s2">"Authorization: apikey"</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">wias</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'@kopjra/wias'</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">api</span> <span class="o">=</span> <span class="nx">wias</span><span class="p">.</span><span class="nx">authorize</span><span class="p">(</span><span class="s1">'apikey'</span><span class="p">);</span>
<span class="kd">let</span> <span class="nx">interaction</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"oURL"</span><span class="p">:</span> <span class="s2">"http://someurl.com"</span><span class="p">,</span>
  <span class="s2">"oMethod"</span><span class="p">:</span> <span class="s2">"POST"</span><span class="p">,</span>
  <span class="s2">"prerenderedHtml"</span><span class="p">:</span> <span class="s2">"&lt;!doctype html&gt;&lt;html&gt;&lt;head&gt;&lt;title&gt;Title&lt;/title&gt;&lt;/head&gt;&lt;body&gt;&lt;p&gt;&lt;strong&gt;E_URL: &lt;/strong&gt;&lt;%= e_url %&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;F_URL: &lt;/strong&gt;&lt;%= f_url %&gt;&lt;/p&gt;&lt;p&gt;Sample text.&lt;/p&gt;&lt;form action="</span><span class="o">&lt;%=</span> <span class="nx">e_url</span> <span class="o">%&gt;</span><span class="s2">" method="</span><span class="nx">post</span><span class="s2">"&gt;&lt;fieldset&gt;&lt;legend&gt;Stuffity stuff:&lt;/legend&gt;&lt;input type="</span><span class="nx">radio</span><span class="s2">" name="</span><span class="nx">st1</span><span class="s2">" value="</span><span class="kc">true</span><span class="s2">"&gt;Yep&lt;/input&gt;&lt;input type="</span><span class="nx">radio</span><span class="s2">" name="</span><span class="nx">st1</span><span class="s2">" value="</span><span class="kc">false</span><span class="s2">"&gt;Nay&lt;/input&gt;&lt;/fieldset&gt;&lt;fieldset&gt;&lt;legend&gt;Lalaland:&lt;/legend&gt;&lt;input type="</span><span class="nx">radio</span><span class="s2">" name="</span><span class="nx">st2</span><span class="s2">" value="</span><span class="kc">true</span><span class="s2">"&gt;Great movie&lt;/input&gt;&lt;input type="</span><span class="nx">radio</span><span class="s2">" name="</span><span class="nx">st2</span><span class="s2">" value="</span><span class="kc">false</span><span class="s2">"&gt;Bad movie&lt;/input&gt;&lt;/fieldset&gt;&lt;input type="</span><span class="nx">submit</span><span class="s2">" value="</span><span class="nx">Invia</span><span class="s2">" /&gt;&lt;/form&gt;&lt;/body&gt;&lt;/html&gt;"</span><span class="p">,</span>
  <span class="s2">"tags"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"foo"</span><span class="p">:</span> <span class="s2">"bar"</span><span class="p">,</span>
    <span class="s2">"baz"</span><span class="p">:</span> <span class="s2">"woo"</span>
  <span class="p">}</span>
<span class="p">};</span>
<span class="kd">let</span> <span class="nx">max</span> <span class="o">=</span> <span class="nx">api</span><span class="p">.</span><span class="nx">interactions</span><span class="p">.</span><span class="nx">create</span><span class="p">();</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">86</span><span class="p">,</span><span class="w">
  </span><span class="s2">"fUrl"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"https://gateway.wias.kopjra.com/api/i/eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpX2lkIjo4OSwiaWF0IjoxNTE5MjEwODc4LCJleHAiOjE1MTkyMTQ0Nzh9.QLoyvZPl2_KgxyupbjWJXESwOnkhzGDo4vr4i8GjYa8"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='http-request'>HTTP Request</h3>
<p><code>POST https://gateway.wias.kopjra.com/api/interactions</code></p>
<h3 id='json-body-keys'>JSON Body Keys</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>oURL</td>
<td>Yes</td>
<td>The URL where the request was originally intended to go. At the end of the acquisition process, the user will re-submit the request to this URL. Your service should be ready to serve the user&#39;s request here.</td>
</tr>
<tr>
<td>oMethod</td>
<td>Yes</td>
<td>The type of request to acquire (and re-submit to your service). Only &#39;POST&#39; and &#39;GET&#39; supported.</td>
</tr>
<tr>
<td>prerenderedHtml</td>
<td>Yes</td>
<td>The pre-prendered HTML to be displayed by our web server. It must contain the string &#39;&lt;%= e_url %&gt;&#39; somewhere.</td>
</tr>
<tr>
<td>tags</td>
<td>No</td>
<td>An object representing the tags to be added to the Interaction. Note: tag names can only contain US-ASCII letters and/or numbers, whereas tag values can be any UTF-8 string.</td>
</tr>
</tbody></table>
<h2 id='get-all-interactions'>Get All Interactions</h2>
<p>You can use this endpoint to get all of your Interactions. In the future, you will also be able to search among
Interactions using custom tags (still to be implemented).</p>
<pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://gateway.wias.kopjra.com/api/interactions"</span>
  -H <span class="s2">"Authorization: apikey"</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">wias</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'@kopjra/wias'</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">api</span> <span class="o">=</span> <span class="nx">wias</span><span class="p">.</span><span class="nx">authorize</span><span class="p">(</span><span class="s1">'apikey'</span><span class="p">);</span>
<span class="kd">let</span> <span class="nx">interactions</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">api</span><span class="p">.</span><span class="nx">interactions</span><span class="p">.</span><span class="nx">get</span><span class="p">();</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">83</span><span class="p">,</span><span class="w">
        </span><span class="s2">"oURL"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://node-dumb-listening-server.herokuapp.com/"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"hasPrerenderedHtml"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="s2">"expirationPeriod"</span><span class="p">:</span><span class="w"> </span><span class="mi">3600</span><span class="p">,</span><span class="w">
        </span><span class="s2">"expiresAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-02-14T14:25:57.000Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"interactionSetId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"currentStatus"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SUBSCRIBED"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"pcapLocation"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"pcapDigest"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"keysLocation"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"keysDigest"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"activePodNodeId"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"activePodPort"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-02-14T14:25:54.000Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"updatedAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-02-14T14:25:54.000Z"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">85</span><span class="p">,</span><span class="w">
        </span><span class="s2">"oURL"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://node-dumb-listening-server.herokuapp.com/"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"hasPrerenderedHtml"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="s2">"expirationPeriod"</span><span class="p">:</span><span class="w"> </span><span class="mi">3600</span><span class="p">,</span><span class="w">
        </span><span class="s2">"expiresAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-02-14T16:11:45.000Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"interactionSetId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"currentStatus"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CONCLUDED"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"pcapLocation"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cws/uuid/a18e65b8-6feb-4dd1-a382-773b5c40f62c.pcap"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"pcapDigest"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bda2ec6cf68ad6193c25b1cc038b2b0a2a077cba505b73c1181b9e5dc8611bdd"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"keysLocation"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cws/uuid/a18e65b8-6feb-4dd1-a382-773b5c40f62c.log"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"keysDigest"</span><span class="p">:</span><span class="w"> </span><span class="s2">"751e28e65fe32a04a3c8d97f0a898db089c6ae247d7ee458d70df966c6908185"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"activePodNodeId"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"activePodPort"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-02-14T15:11:45.000Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"updatedAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-02-14T15:12:11.000Z"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>This endpoint retrieves all of your interactions. Please note that tags are not shown here.</p>
<h3 id='http-request-2'>HTTP Request</h3>
<p><code>GET https://gateway.wias.kopjra.com/api/interactions</code></p>
<h2 id='get-a-specific-interaction'>Get a Specific Interaction</h2><pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://gateway.wias.kopjra.com/api/interactions/85"</span>
  -H <span class="s2">"Accept: application/json"</span>
  -H <span class="s2">"Authorization: apikey"</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">wias</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'@kopjra/wias'</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">api</span> <span class="o">=</span> <span class="nx">wias</span><span class="p">.</span><span class="nx">authorize</span><span class="p">(</span><span class="s1">'apikey'</span><span class="p">);</span>
<span class="kd">let</span> <span class="nx">interaction</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">api</span><span class="p">.</span><span class="nx">interactions</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="mi">85</span><span class="p">);</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">85</span><span class="p">,</span><span class="w">
    </span><span class="s2">"oURL"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://node-dumb-listening-server.herokuapp.com/"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"hasPrerenderedHtml"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"expirationPeriod"</span><span class="p">:</span><span class="w"> </span><span class="mi">3600</span><span class="p">,</span><span class="w">
    </span><span class="s2">"expiresAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-02-14T16:11:45.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"interactionSetId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"currentStatus"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CONCLUDED"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"pcapLocation"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cws/uuid/a18e65b8-6feb-4dd1-a382-773b5c40f62c.pcap"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"pcapDigest"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bda2ec6cf68ad6193c25b1cc038b2b0a2a077cba505b73c1181b9e5dc8611bdd"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"keysLocation"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cws/uuid/a18e65b8-6feb-4dd1-a382-773b5c40f62c.log"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"keysDigest"</span><span class="p">:</span><span class="w"> </span><span class="s2">"751e28e65fe32a04a3c8d97f0a898db089c6ae247d7ee458d70df966c6908185"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"activePodNodeId"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"activePodPort"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-02-14T15:11:45.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"updatedAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-02-14T15:12:11.000Z"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint retrieves a specific interaction.</p>
<h3 id='http-request-3'>HTTP Request</h3>
<p><code>GET https://gateway.wias.kopjra.com/api/interactions/&lt;ID&gt;</code></p>
<h3 id='url-parameters'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>ID</td>
<td>The ID of the interaction to retrieve</td>
</tr>
</tbody></table>
<h1 id='common-query-params'>Common Query Params</h1>
<aside class="notice">
This section lists query parameters that you can use in all of your requests.
</aside>

<p>The WIAS API uses the following common query parameters:</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>top</td>
<td>5</td>
<td>The maximum number of results to show. Cannot be more than 25 and less than 1.</td>
</tr>
<tr>
<td>skip</td>
<td>0</td>
<td>The number of results to skip from the beginning. Used for pagination.</td>
</tr>
</tbody></table>
<h1 id='errors'>Errors</h1>
<p>The WIAS API uses the following error codes:</p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request -- Your request is invalid.</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized -- Your API key is wrong.</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden -- The resource requested is hidden and reserved for administrators only.</td>
</tr>
<tr>
<td>404</td>
<td>Not Found -- The specified resource could not be found.</td>
</tr>
<tr>
<td>405</td>
<td>Method Not Allowed -- You tried to access a resource with an invalid method.</td>
</tr>
<tr>
<td>406</td>
<td>Not Acceptable -- You requested a format that isn&#39;t json.</td>
</tr>
<tr>
<td>410</td>
<td>Gone -- The resource requested has been removed from our servers.</td>
</tr>
<tr>
<td>429</td>
<td>Too Many Requests -- You&#39;re requesting too many resources! Slow down!</td>
</tr>
<tr>
<td>500</td>
<td>Internal Server Error -- We had a problem with our server. Try again later.</td>
</tr>
<tr>
<td>503</td>
<td>Service Unavailable -- We&#39;re temporarily offline for maintenance. Please try again later.</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="shell">shell</a>
                <a href="#" data-language-name="javascript">javascript</a>
          </div>
      </div>
    </div>
  </body>
</html>
